# AI Services Container
FROM tensorflow/tensorflow:2.13.0-gpu

LABEL service="ai-services" \
      version="4.0.0"

ENV PYTHONUNBUFFERED=1

WORKDIR /app

# Install additional AI dependencies
RUN pip install --no-cache-dir \
    torch>=2.0.0 \
    transformers>=4.30.0 \
    scikit-learn>=1.3.0 \
    xgboost>=1.7.0 \
    lightgbm>=4.0.0

COPY requirements-ai.txt .
RUN pip install --no-cache-dir -r requirements-ai.txt

COPY src/core/ai/ ./src/core/ai/

EXPOSE 8001

CMD ["python", "-m", "src.core.ai.main"]
